<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Homework3</title>
    <script src="./script.js" async></script>
</head>

<body>
    <script>
        /*1. Написать функцию, преобразующую число в объект. 
        Передавая на вход число от 0 до 999, мы должны получить на выходе объект, в котором в соответствующих свойствах описаны единицы, десятки и сотни. 
        Например, для числа 245 мы должны получить следующий объект: {‘единицы’: 5, ‘десятки’: 4, ‘сотни’: 2}. 
        Если число превышает 999, необходимо выдать соответствующее сообщение с помощью console.log и вернуть пустой объект.*/

        function decomposeNumber(num) {
            if (!Number.isInteger(num) || num > 999) {
                alert('число должно быть целым в диапазоне [0...999]');
                return {};

            }

            //return {
            //    firstPart: Math.floor(num / 100),
            //    midlePart: Math.floor(num / 10) % 10,
            //    lastPart: num % 10,
            //};
            /*пример решения подсмотрел в разборе домашнего задания потому что в математической части я не очень хорошо ориентируюсь
            Возможно это выглядит дико но я бы это например через строки потому что не особо люблю математические методы
            так как условия это позволяют
            */

            num = String(num);
            return {
                firstPart: num.charAt(0), // сотни
                midlePart: num.charAt(1), // десятки
                lastPart: num.charAt(2),  // еденицы
            };
        }

        console.log(decomposeNumber(691));
    </script>

    <script>

        //  2.1. В прошлом домашнем задании вы реализовали корзину на базе массивов. 
        //       Какими объектами можно заменить их элементы?       
        const box = {
            someObject: [
                {
                    id: 1,
                    name: 'item1',
                    price: 100,
                    count: 5
                },
                {
                    id: 2,
                    name: 'item2',
                    price: 250,
                    count: 10
                }

                //    2.2. Перенести функционал подсчета корзины на объектно-ориентированную базу.    
            ],
            totalCount() {
                return this.someObject.reduce((totalCount, items) => totalCount + items.price * items.count, 0);
            }
        };

        console.log(box.totalCount());
    </script>

</body>

</html>
